<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flashcards: Food & Drinks (fc_food)</title>
  <style>
    :root{ --bg:#0f172a; --card:#111827; --fg:#e5e7eb; --muted:#9ca3af; --accent:#22d3ee; --border:#1f2937; --track:#0b1220; }
    html,body{height:100%; margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif; background: radial-gradient(60rem 60rem at 50% -10%, #0b1220 0%, var(--bg) 40%, #070b14 100%); color:var(--fg);}    
    .wrap{max-width:880px; margin:0 auto; padding:24px 16px 120px; text-align:center;}

    h1{font-size:1.6rem; margin:0 0 12px; line-height:1.35; word-break:break-word;}
    p.lead{color:var(--muted); margin:0 0 18px;}

    .card{background:var(--card); border:1px solid var(--border); border-radius:16px; padding:24px 18px; margin:20px 0; cursor:pointer; box-shadow: 0 6px 18px rgba(0,0,0,.25);}    
    .pair{display:grid; grid-template-columns:1fr auto; gap:14px; align-items:baseline; text-align:left}
    .en{font-size:1.6rem; font-weight:800; letter-spacing:.2px;}
    .ja{font-size:1.35rem; opacity:.98}
    .hidden{visibility:hidden}

    /* 例文: 英語→次の行に日本語。非表示時も固定行高でスペース確保 */
    .examples{margin-top:16px; text-align:left}
    .examples li{display:block; padding:8px 0; border-top:1px dashed #273244}
    .examples li:first-child{border-top:none}
    .ex-en{display:block; font-size:1rem; line-height:1.35;}
    .ex-ja{display:block; font-size:1rem; line-height:1.35; min-height:1.35em;}

    .meta{margin-top:12px; color:var(--muted); font-size:.9rem}

    /* 進捗（カード内）: バー + 数字。ラップと総リビール数も表示 */
    .progress{display:flex; align-items:center; gap:10px; margin-top:14px}
    .bar{flex:1; height:8px; background:var(--track); border:1px solid var(--border); border-radius:999px; overflow:hidden}
    .bar > span{display:block; height:100%; width:0%; background:var(--accent)}
    .count{font-variant-numeric:tabular-nums; font-size:.95rem; color:var(--muted)}

    footer{position:fixed; inset:auto 0 0 0; border-top:1px solid var(--border); background:rgba(11,18,32,.9); backdrop-filter: blur(6px);}    
    footer .inner{max-width:880px; margin:0 auto; padding:10px 16px; display:flex; gap:10px; align-items:center; justify-content:space-between;}
    footer a{color:var(--accent); text-decoration:none}
    .controls{display:flex; gap:12px; flex-wrap:wrap;}
    .btn{background:transparent; border:1px solid #334155; color:var(--fg); border-radius:10px; padding:8px 14px; cursor:pointer}
    .btn:hover{border-color:var(--accent);}    
  </style>
</head>
<body>
  <div class="wrap">
    <h1>英単語フラッシュカード：食べ物・飲み物（Food & Drinks）</h1>
    <p class="lead">カードを<strong>タップ</strong>、または<strong>スペース/エンター</strong>で：<strong>問題 → 答え → 次の問題</strong>。訳は単語は右側、例文は次の行に表示されます。</p>

    <div id="cardContainer"></div>
  </div>

  <footer>
    <div class="inner">
      <div>
        <a href="index.html">← index.html に戻る</a>
        <span style="color:var(--muted)">/ exam フォルダ</span>
      </div>
      <div class="controls">
        <button id="shuffleBtn" class="btn" aria-label="シャッフル">シャッフル</button>
        <button id="resetBtn" class="btn" aria-label="カウンタをリセット">リセット</button>
      </div>
    </div>
  </footer>

  <script>
    // ===== データ（例文3つずつ） =====
    const DATA = [
      {en:"apple", ja:"りんご", cat:"fruits", ex:[{en:"a fresh apple", ja:"新鮮なりんご"},{en:"apple pie", ja:"アップルパイ"},{en:"pick apples in the orchard", ja:"果樹園でりんごを収穫する"}]},
      {en:"banana", ja:"バナナ", cat:"fruits", ex:[{en:"a ripe banana", ja:"熟したバナナ"},{en:"peel a banana", ja:"バナナの皮をむく"},{en:"bananas grow in clusters", ja:"バナナは房で育つ"}]},
      {en:"orange", ja:"オレンジ", cat:"fruits", ex:[{en:"orange juice", ja:"オレンジジュース"},{en:"peel an orange", ja:"オレンジの皮をむく"},{en:"an orange tree", ja:"オレンジの木"}]},
      {en:"grape", ja:"ぶどう", cat:"fruits", ex:[{en:"a bunch of grapes", ja:"一房のぶどう"},{en:"grape vineyard", ja:"ぶどう畑"},{en:"make wine from grapes", ja:"ぶどうからワインを作る"}]},
      {en:"strawberry", ja:"いちご", cat:"fruits", ex:[{en:"strawberry jam", ja:"いちごジャム"},{en:"strawberry cake", ja:"いちごケーキ"},{en:"pick strawberries", ja:"いちごを摘む"}]},
      {en:"peach", ja:"もも", cat:"fruits", ex:[{en:"a juicy peach", ja:"みずみずしいもも"},{en:"peach orchard", ja:"ももの果樹園"},{en:"peel a peach", ja:"ももの皮をむく"}]},
      {en:"pear", ja:"なし", cat:"fruits", ex:[{en:"a sweet pear", ja:"甘いなし"},{en:"pear juice", ja:"なしジュース"},{en:"slice a pear", ja:"なしを薄切りにする"}]},
      {en:"cherry", ja:"さくらんぼ", cat:"fruits", ex:[{en:"cherry blossoms", ja:"桜の花"},{en:"a bowl of cherries", ja:"さくらんぼ一皿"},{en:"pit a cherry", ja:"さくらんぼの種を取る"}]},
      {en:"pineapple", ja:"パイナップル", cat:"fruits", ex:[{en:"fresh pineapple", ja:"新鮮なパイナップル"},{en:"pineapple juice", ja:"パイナップルジュース"},{en:"peel a pineapple", ja:"パイナップルの皮をむく"}]},
      {en:"watermelon", ja:"すいか", cat:"fruits", ex:[{en:"slice a watermelon", ja:"すいかを切る"},{en:"seedless watermelon", ja:"種なしすいか"},{en:"watermelon juice", ja:"すいかジュース"}]},
      {en:"blueberry", ja:"ブルーベリー", cat:"fruits", ex:[{en:"blueberry jam", ja:"ブルーベリージャム"},{en:"pick blueberries", ja:"ブルーベリーを摘む"},{en:"blueberry muffin", ja:"ブルーベリーマフィン"}]},
      {en:"lemon", ja:"レモン", cat:"fruits", ex:[{en:"a slice of lemon", ja:"レモンのスライス"},{en:"lemon juice", ja:"レモンジュース"},{en:"sour taste of lemon", ja:"レモンの酸っぱい味"}]},
      {en:"mango", ja:"マンゴー", cat:"fruits", ex:[{en:"ripe mango", ja:"熟したマンゴー"},{en:"mango smoothie", ja:"マンゴースムージー"},{en:"peel a mango", ja:"マンゴーの皮をむく"}]},
      {en:"kiwi", ja:"キウイ", cat:"fruits", ex:[{en:"kiwi fruit", ja:"キウイフルーツ"},{en:"peel a kiwi", ja:"キウイの皮をむく"},{en:"kiwi slices", ja:"キウイの薄切り"}]},
      {en:"carrot", ja:"にんじん", cat:"vegetables", ex:[{en:"grated carrot", ja:"すりおろしにんじん"},{en:"carrot sticks", ja:"にんじんスティック"},{en:"harvest carrots", ja:"にんじんを収穫する"}]},
      {en:"potato", ja:"じゃがいも", cat:"vegetables", ex:[{en:"mashed potatoes", ja:"マッシュポテト"},{en:"baked potato", ja:"ベイクドポテト"},{en:"potato chips", ja:"ポテトチップス"}]},
      {en:"onion", ja:"たまねぎ", cat:"vegetables", ex:[{en:"chopped onion", ja:"みじん切りの玉ねぎ"},{en:"onion soup", ja:"オニオンスープ"},{en:"onion rings", ja:"オニオンリング"}]},
      {en:"tomato", ja:"トマト", cat:"vegetables", ex:[{en:"tomato soup", ja:"トマトスープ"},{en:"slice a tomato", ja:"トマトをスライスする"},{en:"tomato ketchup", ja:"トマトケチャップ"}]},
      {en:"cucumber", ja:"きゅうり", cat:"vegetables", ex:[{en:"fresh cucumber", ja:"新鮮なきゅうり"},{en:"cucumber salad", ja:"きゅうりのサラダ"},{en:"peel a cucumber", ja:"きゅうりの皮をむく"}]},
      {en:"eggplant", ja:"なす", cat:"vegetables", ex:[{en:"fried eggplant", ja:"揚げナス"},{en:"grilled eggplant", ja:"焼きナス"},{en:"peel an eggplant", ja:"ナスの皮をむく"}]},
      {en:"spinach", ja:"ほうれん草", cat:"vegetables", ex:[{en:"fresh spinach", ja:"新鮮なほうれん草"},{en:"boil spinach", ja:"ほうれん草をゆでる"},{en:"spinach salad", ja:"ほうれん草サラダ"}]},
      {en:"cabbage", ja:"キャベツ", cat:"vegetables", ex:[{en:"shredded cabbage", ja:"千切りキャベツ"},{en:"cabbage rolls", ja:"ロールキャベツ"},{en:"cabbage soup", ja:"キャベツスープ"}]},
      {en:"broccoli", ja:"ブロッコリー", cat:"vegetables", ex:[{en:"boil broccoli", ja:"ブロッコリーをゆでる"},{en:"broccoli salad", ja:"ブロッコリーサラダ"},{en:"steam broccoli", ja:"ブロッコリーを蒸す"}]},
      {en:"cauliflower", ja:"カリフラワー", cat:"vegetables", ex:[{en:"cauliflower rice", ja:"カリフラワーライス"},{en:"steam cauliflower", ja:"カリフラワーを蒸す"},{en:"roast cauliflower", ja:"カリフラワーを焼く"}]},
      {en:"lettuce", ja:"レタス", cat:"vegetables", ex:[{en:"lettuce leaves", ja:"レタスの葉"},{en:"wash lettuce", ja:"レタスを洗う"},{en:"lettuce salad", ja:"レタスサラダ"}]},
      {en:"mushroom", ja:"きのこ", cat:"vegetables", ex:[{en:"wild mushrooms", ja:"野生のきのこ"},{en:"slice mushrooms", ja:"きのこを薄切りにする"},{en:"mushroom soup", ja:"きのこスープ"}]},
      {en:"sweet potato", ja:"さつまいも", cat:"vegetables", ex:[{en:"roasted sweet potato", ja:"焼きいも"},{en:"sweet potato fries", ja:"さつまいもフライ"},{en:"steam sweet potatoes", ja:"さつまいもを蒸す"}]},
      {en:"green pepper", ja:"ピーマン", cat:"vegetables", ex:[{en:"green pepper slices", ja:"ピーマンの薄切り"},{en:"stuffed green peppers", ja:"ピーマンの肉詰め"},{en:"chop green peppers", ja:"ピーマンを刻む"}]},
      {en:"water", ja:"水", cat:"drinks", ex:[{en:"a glass of water", ja:"一杯の水"},{en:"drink cold water", ja:"冷たい水を飲む"},{en:"boil water", ja:"水を沸かす"}]},
      {en:"tea", ja:"お茶", cat:"drinks", ex:[{en:"green tea", ja:"緑茶"},{en:"iced tea", ja:"アイスティー"},{en:"tea leaves", ja:"茶葉"}]},
      {en:"coffee", ja:"コーヒー", cat:"drinks", ex:[{en:"black coffee", ja:"ブラックコーヒー"},{en:"hot coffee", ja:"ホットコーヒー"},{en:"instant coffee", ja:"インスタントコーヒー"}]},
      {en:"milk", ja:"牛乳", cat:"drinks", ex:[{en:"soy milk", ja:"豆乳"},{en:"a glass of milk", ja:"一杯の牛乳"},{en:"warm milk", ja:"温かい牛乳"}]},
      {en:"juice", ja:"ジュース", cat:"drinks", ex:[{en:"fruit juice", ja:"フルーツジュース"},{en:"fresh-squeezed juice", ja:"しぼりたてジュース"},{en:"grape juice", ja:"ぶどうジュース"}]},
      {en:"soda", ja:"炭酸飲料", cat:"drinks", ex:[{en:"a bottle of soda", ja:"炭酸飲料のボトル"},{en:"open a soda", ja:"炭酸飲料を開ける"},{en:"soda with ice", ja:"氷入りのソーダ"}]},
      {en:"sports drink", ja:"スポーツドリンク", cat:"drinks", ex:[{en:"drink a sports drink", ja:"スポーツドリンクを飲む"},{en:"isotonic drink", ja:"アイソトニック飲料"},{en:"rehydrate with a sports drink", ja:"スポーツドリンクで水分補給する"}]},
      {en:"green tea", ja:"緑茶", cat:"drinks", ex:[{en:"brew green tea", ja:"緑茶を淹れる"},{en:"hot green tea", ja:"温かい緑茶"},{en:"bitter green tea", ja:"渋い緑茶"}]},
      {en:"black tea", ja:"紅茶", cat:"drinks", ex:[{en:"brew black tea", ja:"紅茶を淹れる"},{en:"black tea with milk", ja:"ミルクティー"},{en:"iced black tea", ja:"アイスティー（紅茶）"}]},
      {en:"smoothie", ja:"スムージー", cat:"drinks", ex:[{en:"fruit smoothie", ja:"フルーツスムージー"},{en:"green smoothie", ja:"グリーンスムージー"},{en:"blend a smoothie", ja:"スムージーを作る"}]},
      {en:"breakfast", ja:"朝食", cat:"meals", ex:[{en:"skip breakfast", ja:"朝食を抜く"},{en:"eat breakfast", ja:"朝食を食べる"},{en:"prepare breakfast", ja:"朝食を準備する"}]},
      {en:"lunch", ja:"昼食", cat:"meals", ex:[{en:"have lunch", ja:"昼食をとる"},{en:"lunch break", ja:"昼休み"},{en:"pack lunch", ja:"弁当を作る"}]},
      {en:"dinner", ja:"夕食", cat:"meals", ex:[{en:"make dinner", ja:"夕食を作る"},{en:"eat dinner", ja:"夕食を食べる"},{en:"dinner table", ja:"食卓"}]},
      {en:"salad", ja:"サラダ", cat:"meals", ex:[{en:"a fresh salad", ja:"新鮮なサラダ"},{en:"salad dressing", ja:"サラダドレッシング"},{en:"fruit salad", ja:"フルーツサラダ"}]},
      {en:"sandwich", ja:"サンドイッチ", cat:"meals", ex:[{en:"a ham sandwich", ja:"ハムサンド"},{en:"make a sandwich", ja:"サンドイッチを作る"},{en:"club sandwich", ja:"クラブサンド"}]},
      {en:"soup", ja:"スープ", cat:"meals", ex:[{en:"hot soup", ja:"温かいスープ"},{en:"vegetable soup", ja:"野菜スープ"},{en:"chicken soup", ja:"チキンスープ"}]},
      {en:"rice", ja:"ご飯", cat:"meals", ex:[{en:"steamed rice", ja:"白ご飯"},{en:"fried rice", ja:"チャーハン"},{en:"rice ball", ja:"おにぎり"}]},
      {en:"noodles", ja:"麺類", cat:"meals", ex:[{en:"cold noodles", ja:"冷やし麺"},{en:"noodle soup", ja:"麺のスープ"},{en:"instant noodles", ja:"インスタントラーメン"}]},
      {en:"curry", ja:"カレー", cat:"meals", ex:[{en:"chicken curry", ja:"チキンカレー"},{en:"spicy curry", ja:"辛いカレー"},{en:"curry rice", ja:"カレーライス"}]},
      {en:"grilled fish", ja:"焼き魚", cat:"meals", ex:[{en:"grilled mackerel", ja:"サバの塩焼き"},{en:"grill the fish", ja:"魚を焼く"},{en:"seasoned grilled fish", ja:"味付けした焼き魚"}]},
      {en:"fried chicken", ja:"から揚げ", cat:"meals", ex:[{en:"fried chicken pieces", ja:"から揚げの一口サイズ"},{en:"crispy fried chicken", ja:"カリッとしたから揚げ"},{en:"marinate chicken", ja:"鶏肉を下味に漬け込む"}]},
      {en:"tofu", ja:"豆腐", cat:"meals", ex:[{en:"tofu soup", ja:"豆腐のスープ"},{en:"chilled tofu", ja:"冷ややっこ"},{en:"stir-fry tofu", ja:"豆腐を炒める"}]},
      {en:"omelet", ja:"オムレツ", cat:"meals", ex:[{en:"cheese omelet", ja:"チーズオムレツ"},{en:"fluffy omelet", ja:"ふわふわのオムレツ"},{en:"make an omelet", ja:"オムレツを作る"}]}
    ];

    // ===== 状態 =====
    let index = 0;           // 現在のカード番号（0-based）
    let revealed = false;    // 現在カードが開示済みか
    let totalReveals = 0;    // 合計で答えを表示した回数

    const cardContainer = document.getElementById('cardContainer');
    const shuffleBtn = document.getElementById('shuffleBtn');
    const resetBtn = document.getElementById('resetBtn');

    // ===== 例文生成 =====
    function buildExamples(item){
      if(item.ex && Array.isArray(item.ex) && item.ex.length){ return item.ex; }
      return [
        { en:`I like ${item.en}.`, ja:`私は${item.ja}が好きです。` },
        { en:`Have some ${item.en}.`, ja:`${item.ja}をどうぞ。` },
        { en:`This ${item.en} is delicious.`, ja:`この${item.ja}は美味しいです。` }
      ];
    }

    // ===== 表示 =====
    function render(){
      const x = DATA[index];
      const examples = buildExamples(x);
      const hide = !revealed;

      // 進捗：現在ラップ、カード位置、％。
      const laps = Math.floor(totalReveals / DATA.length);
      const countText = `周回 ${laps} ・ ${index+1} / ${DATA.length} ・ リビール ${totalReveals}`;
      const pct = DATA.length > 1 ? Math.round((index) / (DATA.length-1) * 100) : 100;

      cardContainer.innerHTML = `<div class="card" id="quizCard" role="group" aria-label="${x.en}">
        <div class="pair">
          <div class="en">${x.en}</div>
          <div class="ja ${hide ? 'hidden' : ''}">${x.ja}</div>
        </div>
        <ul class="examples">
          ${examples.map(ex=>`<li><span class=\"ex-en\">${ex.en}</span><span class=\"ex-ja ${hide ? 'hidden' : ''}\">${ex.ja}</span></li>`).join('')}
        </ul>
        <div class="meta">${x.cat}</div>
        <div class="progress" aria-live="polite" aria-label="progress">
          <div class="bar" aria-hidden="true"><span style="width:${pct}%"></span></div>
          <div class="count">${countText}</div>
        </div>
      </div>`;
      document.getElementById('quizCard').addEventListener('click', onCardAdvance);
    }

    // ===== 進行ロジック（タップ／キー） =====
    function onCardAdvance(){
      if(!revealed){
        // 問題 → 答え
        revealed = true;
        totalReveals += 1; // 答えを表示したときに増加
        render();
      } else {
        // 答え → 次の問題
        index = (index + 1) % DATA.length;
        revealed = false;
        render();
      }
    }

    // キーボード操作: Space / Enter
    document.addEventListener('keydown', (e)=>{
      const isSpace = (e.code === 'Space' || e.key === ' ');
      const isEnter = (e.key === 'Enter');
      if(isSpace || isEnter){
        e.preventDefault(); // スクロール抑止など
        onCardAdvance();
      }
    });

    // シャッフル & リセット
    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; }
    }
    shuffleBtn.addEventListener('click', ()=>{ shuffle(DATA); index=0; revealed=false; render(); });
    resetBtn.addEventListener('click', ()=>{ index=0; revealed=false; totalReveals=0; render(); });

    // 初期表示
    render();
  </script>
</body>
</html>
